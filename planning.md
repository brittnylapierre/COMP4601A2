In order to achieve (5) you must:
Design a model for user preferences based upon the content of the web pages.
User likes/dislikes by genre

Determine communities for users.

Create advertising content that reflects the interests of the users in that community.
https://sikaman.dyndns.org/courses/4601/handouts/12-GA.pdf
Generate a set of random solutions	
	Repeat	
		Test each solutions	in the set (rank them)	
		Remove some	bad	solutions from set	
		Duplicate some good solutions		
			make small changes to some of them	
	Until best solution	is good	enough	

Design and implement a mechanism for associating appropriate advertising given a user and a page request.